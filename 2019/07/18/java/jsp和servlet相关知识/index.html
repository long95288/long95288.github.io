<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>jsp和servlet相关知识 · 风兮木落</title><meta name="description" content="过滤器过滤器的作用是对url访问进行拦截，比如：有一个需要登陆的系统，登陆成功后便跳转到index.jsp。如果用户直接输入index.jsp。这时候后台要对这样的行为进行拦截。1、过滤器需要实现servlet的Filter接口。并且实现doFilter方法。
2、过滤器要起作用还要配置过滤器和拦截"><meta name="og:description" content="过滤器过滤器的作用是对url访问进行拦截，比如：有一个需要登陆的系统，登陆成功后便跳转到index.jsp。如果用户直接输入index.jsp。这时候后台要对这样的行为进行拦截。1、过滤器需要实现servlet的Filter接口。并且实现doFilter方法。
2、过滤器要起作用还要配置过滤器和拦截"><meta name="twitter:site" content="风兮木落"><meta name="twitter:title" content="jsp和servlet相关知识"><meta name="twitter:card" content="summary"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.3.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div class="container" id="stage"><div class="row"><div class="col-sm-3 col-xs-12 side-container invisible" id="side-bar"><div class="vertical-text site-title"><h3 class="site-title-small" tabindex="-1"><a class="a-title" href="/">long blogs</a></h3><h1 class="site-title-large" tabindex="-1"><a class="a-title" href="/">进一步有进一步惊喜</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div class="site-title-links" id="site-nav"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/tags">Tags</a></li><li class="soc"><a href="https://long95288.github.io/atom.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2025&nbsp;<a target="_blank" href="https://long95288.github.io" rel="noopener noreferrer">long</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div class="col-sm-9 col-xs-12 main-container invisible" id="main-container"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>jsp和servlet相关知识</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2019-07-18</span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a class="a-tag" href="/tags/笔记/" title="笔记">笔记</a><span>&nbsp;</span><a class="a-tag" href="/tags/java/" title="java">java</a><span>&nbsp;</span></span></p><p class="post-abstract"><h4 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h4><p>过滤器的作用是对url访问进行拦截，比如：有一个需要登陆的系统，登陆成功后便跳转到index.jsp。如果用户直接输入index.jsp。这时候后台要对这样的行为进行拦截。<br>1、过滤器需要实现servlet的Filter接口。并且实现doFilter方法。</p>
<p>2、过滤器要起作用还要配置过滤器和拦截的对象。在web.xml中配置。<br>一个简单的登陆过滤器的配置例子:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置过滤器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>LoginFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.bosssoft.hr.train.chp2.filter.LoginFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--配置路由映射--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>LoginFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/index.jsp<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h4><p>1、监听器一共有8种类型，主要是监听对象的创建和销毁，属性的增加和减少。其中有如下几种<br>监听对象的创建和销毁的监听器<br>（1）ServletContextlistener 监听ServletContext对象<br>（2）HttpSessionListener 监听HttpSession对象<br>（3）ServletRequestListener 监听ServletRequest对象<br>监听对象属性的增加、修改和删除的事件监听器<br>（4）ServletContextAttributeListener 监听ServletContext对象属性变更<br>（5）HttpSessionAttributeListener监听HttpSession对象属性变更<br>（6）ServletRequestAttributeListener监听Servlet对象的属性的变更<br>监听绑定到HttpSession域中的某个对象状态的事件监听器<br>(7)HttpSessionBindingListener 监听session的绑定和解除<br>(8)HttpSessionActivationListener 会话持久层。</p>
<p>2、一个统计网站当前在线人数的例子的监听器例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">**</span><br><span class="line"> * session 用户监听，当有新连接的时候在线数量加一</span><br><span class="line"> * <span class="meta">@author</span> 风兮木落</span><br><span class="line"> *</span><br><span class="line"> * */</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OnlineListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionListener</span>,ServletRequestListener&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        Store.onlineCount += <span class="number">1</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;创建session:&quot;</span>+session.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">       Store.onlineCount -= <span class="number">1</span>;</span><br><span class="line">       System.out.println(<span class="string">&quot;销毁session:&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestDestroyed</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;destroy request:&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestInitialized</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;create request&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>每当有一个新的连接的时候，会触发request的监听器。当有一个session创建的时候就会触发sessionCreated函数，将全局的变量加一。当一个session过期的时候就会触发sessionDestred函数，将全局变量减一。</p>
<h4 id="jsp9大内置对象"><a href="#jsp9大内置对象" class="headerlink" title="jsp9大内置对象"></a>jsp9大内置对象</h4><p>一、Request 对象<br>  客户端的请求信息封装在request对象中，是HttpServletRequest的实例<br>常用的方法:<br>1、<code>Object getAttribute(String name)</code> 返回指定属性的属性值<br>2、<code>Enumeration getAttributeNames()</code> 返回所有可用属性名的枚举<br>3、<code>String getCharacterEncoding()</code> 返回字符串编码格式<br>4、<code>int getContentLength()</code> 返回请求体的长度<br>5、<code>String getContentType()</code> 返回请求体的MIME的长度<br>6、<code>ServletInputStream getInputStream()</code> 得到请求体中一行的二进制流数据<br>7、<code>String getParameter(String name)</code> 返回name指定参数的参数值<br>8、<code>Enumeration getParameterNames()</code> 返回可用参数名的枚举<br>9、<code>String[] getParameterValues(String name)</code> 返回包含参数name的<br>10、<code>String getProtocol()</code> 返回请求用的协议类型及版本号<br>11、<code>String getScheme()</code> 返回请求的结构类型 http、https、ftp<br>12、<code>String getServerName()</code> 返回接收请求的服务器主机名<br>13、<code>int getServerPort</code> 返回服务器接收此请求的所用的端口号<br>14、<code>BufferReader getReader()</code> 返回解码过了的请求体<br>15、<code>String getRemoteAddr()</code> 返回发送此请求的客户端IP地址<br>16、<code>String getRemoteHost</code> 返回发送此请求的客户端主机名<br>17、<code>void setAttribute(String key,Object obj)</code> 设置属性的属性值<br>18、<code>String getRealPath(String path)</code> 返回一虚拟路径的真实路径<br>二、Response 对象<br>常用方法:<br>1、<code>String getCharacterEncoding()</code> 返回响应用的是何种字符串编码格式<br>2、<code>ServletOutputStream getOutputStream()</code> 返回相应的一个二进制的输出流<br>3、<code>PrintWriter getWriter()</code> 返回可以向客户端输出字符的一个对象<br>4、<code>void setContentLength(int len)</code> 设置响应的长度<br>5、<code>void setContentType(String type)</code> 设置响应的MIME类型<br>6、<code>void sendRedirect(String location)</code> 重新定向客户端的请求<br>三、session 对象<br>从客户端连到服务器的一个WebApplication开始。直到客户端与服务器断开连接为止。是HttpSession 的实例<br>常用方法:<br>1、<code>long getCreationTime()</code> 返回Session的创建时间<br>2、<code>String getId()</code> 返回唯一的ID号<br>3、<code>long getLastAccessedTime()</code> 返回此客户端最近一次请求时间<br>4、<code>int getMaxInactiveInterval()</code> 获得两个请求间隔多长时间此SESSION被取消<br>5、<code>void setMaxInactiveInterval(int ms)</code> 设置两次请求间隔时长。被销毁<br>6、<code>String[] getValueNames()</code> 返回一个包含此SESSION中所有可用属性的数组<br>7、<code>void invalidate()</code> 使该session不可用<br>8、<code>boolean isNew()</code>是不是新的，客户端新加入<br>9、<code>void removeValue(String name)</code> 删除SESSION中指定属性<br>四、out 对象<br>  out对象是JspWriter类的实例，是向客户端输出内容常用的对象<br>常用方法:<br>1、<code>void clear()</code> 清除缓冲区的内容<br>2、<code>void clearBuffer()</code> 清除缓冲区当前内容<br>3、<code>void flush()</code> 清空流<br>4、<code>int getBufferSize()</code> 返回缓冲区的字节大小<br>5、<code>int getRemaining()</code> 返回缓冲区还剩余多少可用<br>6、<code>boolean isAutoFlush()</code> 返回缓冲区满时时自动清空还是抛出异常<br>7、<code>void close()</code> 关闭输出流<br>四、page对象<br>page对象指向当前JSP页面本身,<br>常用方法:<br>1、<code>class getClass</code> 返回此Object的类<br>2、<code>int hashCode()</code><br>3、<code>boolean equals(Object obj)</code><br>4、<code>void copy(Object objet)</code><br>5、<code>Object clone()</code><br>6、<code>String toString()</code><br>7、<code>void notify()</code> 唤醒一个等待的线程<br>8、<code>void notifyAll()</code> 唤醒所有等待的线程<br>9、<code>void wait(int timeout)</code><br>10、<code>void wait()</code><br>11、<code>void enterMonitor()</code> 对Object对象加锁<br>12、<code>void exitMonitor()</code> 对Object对象开锁</p>
<p>五、application 对象<br>  实现了用户间数据共享，可存放全局变量。它开始于服务器的启动，直到服务器关闭。是ServletContext类的实例<br>  常用方法:<br>  1、<code>Object getAttribute(String name)</code><br>  2、<code>void setAttribute(String name,Object obj)</code><br>  3、<code>void removeAttribute(String name)</code> 删除一属性及其属性值<br>  4、<code>Enumeration getAttributeNames()</code> 返回所有可用的属性值<br>  5、<code>String getServerInfo()</code> 返回jsp引擎的名称和版本号<br>  6、<code>String getRealPath(String path)</code> 返回一虚拟路径的真实路径<br>  7、<code>ServletContext getContext(String uripath)</code> 返回指定WebApplication的application对象<br>  8、<code>int getMajorVersion()</code> 返回服务器支持的Servlet API 的最大版本号<br>  9、<code>int getMinorVerion()</code> 支持最小版本号<br>  10、<code>String getMineType(String file)</code> 返回指定文件的MINE类型<br>  11、<code>URL getResource(String path)</code> 返回指定资源的URL路径<br>  12、<code>InputStream getResourceAsStream(String uripath)</code>返回指定资源的输入流<br>  13、<code>RequestDispacher getRequestDispatcher(String uripath)</code>返回指定资源的RequestDispachcer对象<br>  14、<code>Servlet getServlet(String name)</code>返回指定名的Servlet<br>  15、<code>Enumeration getServlets()</code> 返回所有的Servlet的枚举<br>  16、<code>Enumeration getServletNames()</code> 返回所有的Servlet名的枚举<br>  17、<code>void log(Stirng msg)</code> 写入日志文件中<br>六、exception 对象<br>  1、<code>String getMessage()</code> 返回异常的描述消息<br>  2、<code>String toString()</code> 返回异常的简短描述消息<br>  3、<code>void printStackTrace()</code> 显示异常及栈轨道<br>  4、<code>Throwable FillInStackTrace()</code> 重写异常执行栈轨迹<br>七、pageContext对象<br>  页面中所有功能的集大成者<br>  1、<code>JspWriter getOut()</code> 返回当前客户端响应被使用的JspWriter流(out)<br>  2、<code>HttpSession getSession()</code> 返回当前页中的HttpSession对象<br>  3、<code>Object getPage()</code><br>  4、<code>ServletRequest getRequest()</code> 返回当前页的request对象<br>  5、<code>ServletResponse getResponse()</code> 返回当前页的response对象<br>  6、<code>Exception getException()</code><br>  7、<code>ServletConfig getServletConfig()</code><br>  8、<code>ServletContext getServletContext()</code><br>  9、<code>void setAttribute(String name,Object obj)</code><br>  10、<code>Object getAttribute(String name)</code><br>  11、<code>Objcet findAttribute(String name)</code><br>  12、<code>void removeAttribute(String name)</code><br>  13、<code>void removeAttribute(String name,int scope)</code><br>  14、<code>int getAttributeScope(String name)</code><br>  15、<code>Enumeration getAttributeNamesInScope(int scope)</code><br>  16、<code>void release()</code> 释放pageContext所占用的资源<br>  17、<code>void forward(String relativeUrlPath)</code> 重定向到另一个页面<br>  18、<code>void include(String relativeUrlPath)</code> 包含另一个文件<br>八、config对象<br>  相关的配置信息<br>  1、<code>ServletContext getServletContext()</code> 返回服务器相关信息的ServletContext对象<br>  2、<code>String getInitParameter(String name)</code> 初始参数<br>  3、<code>Enumeration getInitParameterNames()</code> 返回Servlet初始化所需所有参数的枚举</p>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></span><span class="soc"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></span><span class="soc"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=https://long95288.github.io/2019/07/18/java/jsp和servlet相关知识/%20风兮木落%20jsp和servlet相关知识"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2019/07/21/Ideas%E4%BD%BF%E7%94%A8%E7%9A%84%E5%9D%91/" title="Ideas使用的坑"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: Ideas使用的坑</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2019/07/17/dom4j-xml%E8%A7%A3%E6%9E%90/" title="dom4j-xml解析">Next post: dom4j-xml解析&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2025&nbsp;<a target="_blank" href="https://long95288.github.io" rel="noopener noreferrer">long</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>