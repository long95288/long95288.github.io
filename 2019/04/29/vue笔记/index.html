<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>vue笔记 · 风兮木落</title><meta name="description" content="1、*.vue的文件表示一个vue组件，和使用commponet生成的模版类似，但是比之要多出一点东西，单页式组件（1）视图模版  &amp;lt;template&amp;gt;&amp;lt;div id=&amp;quot;app&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/template&amp;gt; 这是html的模"><meta name="og:description" content="1、*.vue的文件表示一个vue组件，和使用commponet生成的模版类似，但是比之要多出一点东西，单页式组件（1）视图模版  &amp;lt;template&amp;gt;&amp;lt;div id=&amp;quot;app&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/template&amp;gt; 这是html的模"><meta name="twitter:site" content="风兮木落"><meta name="twitter:title" content="vue笔记"><meta name="twitter:card" content="summary"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.3.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div class="container" id="stage"><div class="row"><div class="col-sm-3 col-xs-12 side-container invisible" id="side-bar"><div class="vertical-text site-title"><h3 class="site-title-small" tabindex="-1"><a class="a-title" href="/">long blogs</a></h3><h1 class="site-title-large" tabindex="-1"><a class="a-title" href="/">进一步有进一步惊喜</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div class="site-title-links" id="site-nav"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/tags">Tags</a></li><li class="soc"><a href="https://long95288.github.io/atom.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2025&nbsp;<a target="_blank" href="https://long95288.github.io" rel="noopener noreferrer">long</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div class="col-sm-9 col-xs-12 main-container invisible" id="main-container"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>vue笔记</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2019-04-29</span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a class="a-tag" href="/tags/笔记/" title="笔记">笔记</a><span>&nbsp;</span><a class="a-tag" href="/tags/前端/" title="前端">前端</a><span>&nbsp;</span></span></p><p class="post-abstract"><h3 id="1、-vue的文件"><a href="#1、-vue的文件" class="headerlink" title="1、*.vue的文件"></a>1、*.vue的文件</h3><p>表示一个vue组件，和使用commponet生成的模版类似，但是比之要多出一点东西，<strong>单页式组件</strong><br>（1）视图模版  <code>&lt;template&gt;&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;&lt;/template&gt;</code> 这是html的模版<br>（2）样式定义  <code>&lt;style&gt;&lt;/style&gt;</code> 可以放置样式<br>（3）组件代码  <code> &lt;script&gt;&lt;/script&gt;</code> js处理，代码逻辑<br><strong>如何在.vue文件中调用声明的数据</strong><br>使用<strong>this</strong>来获取相应的数据，比如</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;Page2&#x27;</span>,</span><br><span class="line"><span class="title function_">data</span> ()&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">number</span>: <span class="number">1</span>  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123; <span class="comment">// 方法属性</span></span><br><span class="line">    <span class="title function_">back</span>(<span class="params">e</span>)&#123; <span class="comment">// 设置了按钮的点击监听事件</span></span><br><span class="line">        <span class="comment">// alert(&quot;你点击了我&quot;)</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">number</span>+=<span class="number">1</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">number</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">clickbtn</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// alert(&quot;计算属性&quot;);</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">number</span>-=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>声明了一个number的数据，使用this.number便可以获取该值，但是并不是所有的地方使用this语句便可以获得值得。<br><strong>问题</strong><br>使用<code>back:()=&gt;&#123;&#125;</code>和<code>back()&#123;&#125;</code>的区别<br>***.vue组件相互引用**<br>在某vue文件中加载另一组件。和配置路由的嵌套不同。<br>在<code>&lt;script&gt;</code>标签中使用<br><code>import mycomponent from &#39;./xxx.vue&#39;</code><br>暴露<code>components:&#123;mycomponent&#125;</code><br>在<code>&lt;template&gt;</code>标签中可以使用<code>&lt;mycomponent&gt;</code>来加载组件。注意和路由渲染之间的区别。<br>一个列子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;Page1inner&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        这是Page1inner的内容,在这个页面中将使用饿了么组件并</span></span><br><span class="line"><span class="language-xml">        使用内嵌组件</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-edit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">mycomponent</span>&gt;</span><span class="tag">&lt;/<span class="name">mycomponent</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">mycomponent2</span>&gt;</span><span class="tag">&lt;/<span class="name">mycomponent2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// 引入其他的组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> mycomponent <span class="keyword">from</span> <span class="string">&#x27;./mycomponent.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> mycomponent2 <span class="keyword">from</span> <span class="string">&#x27;./mycomponent2.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     mycomponent,mycomponent2</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>


<h3 id="2、样式绑定"><a href="#2、样式绑定" class="headerlink" title="2、样式绑定"></a>2、样式绑定</h3><p>npm安装less编译包<br><code> $ npm i less style-loader css - loader less-loader - D</code><br>在包配置中配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">test</span>:<span class="regexp">/\.less$/</span>, <span class="comment">// 配置less样式</span></span><br><span class="line">    <span class="attr">loader</span>:<span class="string">&quot;style-loader!css-loader!less-loader&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在<code>&lt;script&gt;&lt;/script&gt;</code> 标签中引用less文件<br><code>import &#39;./assetd/xxx.less&#39;</code></p>
<p>在<code>&lt;style&gt;&lt;/style&gt;</code> 中引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">@import &#x27;./assets/xxx.less&#x27;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这种方式还没运行起来</p>
<h3 id="3、编程技巧"><a href="#3、编程技巧" class="headerlink" title="3、编程技巧"></a>3、编程技巧</h3><p>（1）凡是样式绑定必然是绑定到判断对象上的，不能直接写CSS类名，即使是一个固定的CSS类也都要这样写<br>（2）</p>
<h3 id="4、路由的一些理解"><a href="#4、路由的一些理解" class="headerlink" title="4、路由的一些理解"></a>4、路由的一些理解</h3><h4 id="4-1-路由的声明和引用"><a href="#4-1-路由的声明和引用" class="headerlink" title="4.1 路由的声明和引用"></a>4.1 路由的声明和引用</h4><p>引用 <code>import VueRouter from &#39;vue-router</code><br>使用 <code>Vue.use(VueRouter)</code><br>实例化 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  mode: &#x27;history&#x27;, // 可选</span><br><span class="line">  routes: [</span><br><span class="line">      &#123;name: &#x27;Home&#x27;, path: &#x27;/Home&#x27;, component: Home&#125;,</span><br><span class="line">      &#123;name: &#x27;Layout&#x27;, path: &#x27;/Layout&#x27;, component: Layout&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure>
<p>相关说明:name 别名,在<code>&lt;router-link&gt;</code> 的 to &#x3D; “Home” 和 to&#x3D;”&#x2F;Home” 相同的作用。但是使用别名的话更改只要改一个地方就行了。<br>name还可以直接再js中使用<br><code>this.$router.push(&#123;name: &#39;Home&#39;&#125;)</code><br>当调用该js的时候就会转到home中了</p>
<h4 id="4-2-获得url中的路由的参数"><a href="#4-2-获得url中的路由的参数" class="headerlink" title="4.2 获得url中的路由的参数"></a>4.2 获得url中的路由的参数</h4><p>需求描述:<br>当前页面的请求url为<code>http://localhost:9528/#/login?examId=23414515151</code><br>我想要将examId的值给获取并做进一步处理。<br>实现:<br>监听路由的变化,当路由变化时获得路由的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">  <span class="attr">$route</span>: &#123;</span><br><span class="line">    <span class="attr">handler</span>: <span class="keyword">function</span>(<span class="params">route</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">redirect</span> = route.<span class="property">query</span> &amp;&amp; route.<span class="property">query</span>.<span class="property">redirect</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">examId</span> = route.<span class="property">query</span>.<span class="property">examId</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">immediate</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>核心的语句是<code>route.query.examId</code><br>在一些地方，获得请求的url中的参数使用<code>query</code>,特别是获得get请求的时候。有些时候使用body来获得请求中的请求体。<br>应用的实例为:当用户扫描一个带有路径信息url的二维码时,跳转到登陆页面。这时候,登陆的时候可以将二维码中信息返回的给后台。这样就可以轻松的统计一些移动端的信息。毕竟很少人会通过电脑扫描二维码进行登陆。</p>
<h4 id="4-2-界面和文件之间的关系是怎么样的？"><a href="#4-2-界面和文件之间的关系是怎么样的？" class="headerlink" title="4.2 界面和文件之间的关系是怎么样的？"></a>4.2 界面和文件之间的关系是怎么样的？</h4><p>两个非常重要的标签，<code>&lt;router-link&gt;</code>和<code>&lt;router-view&gt;</code>其中link是接收路由事件，view是加载内容的容器。<br>*.vue作为一个页面组件，通过引用之后加载进入view中，每一个.vue的文件的加载由link和view决定。关于嵌套路由，在view中有viwe,这样如何确定页面是如何加载在某一个页面的呢？使用命名路由便可以让某一个组件渲染进相应的router-view中</p>
<h4 id="4-3-嵌套路由"><a href="#4-3-嵌套路由" class="headerlink" title="4.3 嵌套路由"></a>4.3 嵌套路由</h4><p>在某个组件中声明一个<code>&lt;router-view&gt;</code>则可以在该组件中 加载所引入的组件。routes中声明如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line"><span class="attr">paht</span>: <span class="string">&#x27;/Home&#x27;</span>,</span><br><span class="line"><span class="attr">componnent</span>: <span class="title class_">Home</span>,</span><br><span class="line"><span class="attr">childern</span>: [ <span class="comment">// Home 组件中嵌套tab的组件</span></span><br><span class="line">  &#123; <span class="comment">// 空白子路由</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="variable constant_">XX</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;Tab&#x27;</span>,  <span class="comment">// 路由路径为/Home/tab</span></span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Tab</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>多级路由嵌套</strong><br>如何配置多级的路由嵌套？首先，假设A中嵌套B,在B中嵌套C。这时候有A.vue和B.vue和C.vue组件。在A.vue文件中有一<code>&lt;router-link&gt;</code>来指向B的路由。在A中的<code>&lt;router-view&gt;</code>来显示B组件的内容，同理在B.vue中也有相应的标签指向C和相应的view来渲染C.<br>1、在.vue文件中<code>&lt;router-link&gt;</code>的写法.<br>A.vue中<code>&lt;router-link to=&quot;B&quot;&gt;这是到B的路由&lt;/router-link&gt;</code><br>B.vue中<code>&lt;router-link to=&quot;C&quot;&gt;这是到C的路由&lt;/router-link&gt;</code><br>2、路由的配置</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/A&#x27;</span>, <span class="comment">// 到A的路由</span></span><br><span class="line">  <span class="attr">component</span>: A, <span class="comment">// A的组件</span></span><br><span class="line">  <span class="attr">children</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/B&#x27;</span>, <span class="comment">// 到B的路由,是A的嵌套路由</span></span><br><span class="line">      <span class="attr">component</span>: B, <span class="comment">// 组件B</span></span><br><span class="line">      <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/C&#x27;</span>, <span class="comment">// 到C的路由,是B的嵌套，同时是A的嵌套的嵌套</span></span><br><span class="line">          <span class="attr">component</span>: C <span class="comment">// 组件C</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用了两个<strong>children</strong>的关键字，在使用的过程中需要注意的是<code>&lt;router-link&gt;</code>中<strong>to</strong>属性的值和path的对应关系。使用<code>to=&quot;B&quot;</code>和<code>to=&quot;/B&quot;</code>是一样的作用,但是推荐使用第一种命名。</p>
<ul>
<li><strong>路由跳转</strong><br>使用js来操作页面的跳转，<br>1、使用<code>this.router</code>获得全局的路由<br>2、调用相关的函数来进行路由的跳转<br><code>this.$router.push(&#39;World&#39;)</code> 跳转到World的路由<br><code>this.$router.back()</code> 返回上一个页面<br><code>this.$router.go(n)</code> 跳转到第n次路由<br>3、路由跳转带参<br>3.1 命名的路由,跳转到list页面，携带路由对象row<br><code>this.$route.push(&#123;name: &#39;list&#39;,params: &#123;row:row&#125;&#125;)</code><br>3.1 读取路由中的参数。获得row的对象<br><code>this.$route.params.row</code></li>
</ul>
<h4 id="4-2-命名视图"><a href="#4-2-命名视图" class="headerlink" title="4.2 命名视图"></a>4.2 命名视图</h4><p>解决同级页面组件问题，和嵌套路由不一样<br>如何渲染在不同的<code>&lt;router-view&gt;</code>?<br>通过<code>view</code>标签中的<code>name</code>属性来区分。没有设置名字默认为<code>default</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view <span class="keyword">class</span>=<span class="string">&quot;view one&quot;</span>&gt;&lt;/router-view&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">&quot;view two&quot;</span> <span class="attr">name</span>=<span class="string">&quot;a&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">&quot;view three&quot;</span> <span class="attr">name</span>=<span class="string">&quot;b&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>多个页面有多个组件，则在配置路由时和嵌套路由的不一样。使用的components有个s</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/pathurl&#x27;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="attr">default</span>: <span class="title class_">Component1</span>, <span class="comment">// 默认的视图</span></span><br><span class="line">    <span class="attr">a</span>: <span class="title class_">Component2</span>,  <span class="comment">// 命名为a的加载的组件为Componnent2</span></span><br><span class="line">    <span class="attr">b</span>: <span class="title class_">Component3</span>  <span class="comment">// 命名为b的router-viwe加载组件为Component3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过命名路由之后，就把组件分在同一个级别上了，而不是嵌套。可以命名视图和嵌套视图的一起使用来完成应用的布局<br>配置路由就是嵌套路由和命名视图时所用的路由的综合。<br><strong>同级路由和嵌套路由整合</strong><br>假设：World组件中有两个<strong>同级</strong>的组件A和B,在B的组件中有C和D两个<strong>嵌套</strong>组件。嵌套组件每次只能渲染其中的一个，同级组件则会全部渲染。<br>相应的div结构如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;World&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 组件A渲染&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;A&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;C&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 或者渲染为&lt;div id=&quot;D&quot;&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 组件B渲染 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;B&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>由结构可知，A和B都是World的子节点，C和D是A的子节点。使用的配置文件为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;World&#x27;</span>,</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/World&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">World</span>,</span><br><span class="line">      <span class="attr">children</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          <span class="attr">components</span>:</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">A</span>: A,</span><br><span class="line">            <span class="attr">B</span>: B</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">children</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">path</span>: <span class="string">&#x27;/C&#x27;</span>, <span class="comment">// 配置C的路由</span></span><br><span class="line">              <span class="attr">components</span>:&#123;</span><br><span class="line">               <span class="title class_">Aview</span>: C   <span class="comment">// C组件渲染到A中name为Aview的router-view中</span></span><br><span class="line">              &#125; </span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">path</span>: <span class="string">&#x27;/D&#x27;</span>,</span><br><span class="line">              <span class="attr">components</span>: &#123;</span><br><span class="line">                <span class="title class_">Aview</span>: D <span class="comment">//</span></span><br><span class="line">              &#125; </span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">       </span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>问题1</strong>是若是不指定C和D组件渲染入对应的<code>&lt;router-view&gt;</code>中的话，C和D也会渲染到B的<code>&lt;router-view&gt;</code>中,暂时解决的办法就是使用命名来指定对应的组件渲染在对应的地方。<br><strong>问题2</strong>若是组件嵌套的逻辑过多的话，就会造成路由配置文件的愈发复杂。如何将路由的配置分配在不同的文件中？</p>
<h4 id="4-3-单页面路由配置"><a href="#4-3-单页面路由配置" class="headerlink" title="4.3 单页面路由配置"></a>4.3 单页面路由配置</h4><p>在需要设置路由的界面里，在<code>&lt;script&gt;</code>标签中引入vue和vue-router.然后新建一个路由对象，在这个路由对象中配置路由。然后暴露出去之后便可以了。<em><strong>每一个vue文件是否对应一个vue对象。</strong></em><br>路由配置也可以使用外置文件引入的方式</p>
<h5 id="4-3-1-一个页面自己声明路由"><a href="#4-3-1-一个页面自己声明路由" class="headerlink" title="4.3.1 一个页面自己声明路由"></a>4.3.1 一个页面自己声明路由</h5><p>例子:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;D&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        这是D中的内容</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试内嵌路由<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;test&quot;</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;test2&quot;</span>&gt;</span>测试2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Test</span> <span class="keyword">from</span> <span class="string">&#x27;./test.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Test2</span> <span class="keyword">from</span> <span class="string">&#x27;./test2.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Router</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">routes</span>:[</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">path</span>:<span class="string">&#x27;/test&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">component</span>:<span class="title class_">Test</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">path</span>:<span class="string">&#x27;/test2&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">component</span>:<span class="title class_">Test2</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    router</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h5 id="4-3-2-引用js路由文件"><a href="#4-3-2-引用js路由文件" class="headerlink" title="4.3.2 引用js路由文件"></a>4.3.2 引用js路由文件</h5><p>在根目录创建一个文件夹D，在D中创建文件名为D.js的路由js。内容如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Test</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/test&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Test2</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/test2&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Router</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/test&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Test</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/test2&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Test2</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在D.vue文件相应的更改为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;D&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        这是D中的内容</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试内嵌路由<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;test&quot;</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;test2&quot;</span>&gt;</span>测试2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//import Vue from &#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//import Router from &#x27;vue-router&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//import Test from &#x27;./test.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//import Test2 from &#x27;./test2.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//Vue.use(Router)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// var router = new Router(&#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//     routes:[</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//         &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//             path:&#x27;/test&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//             component:Test</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//         &#125;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//         &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//             path:&#x27;/test2&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//             component:Test2</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//         &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//     ]</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// &#125;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// 引用D文件夹中的路由文件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/D/D&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    router</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>结果和4.3.1配置的结果是一样的效果。</p>
<h4 id="4-5-路由的一些总结"><a href="#4-5-路由的一些总结" class="headerlink" title="4.5 路由的一些总结"></a>4.5 路由的一些总结</h4><ul>
<li>可以使用统一的一个路由文件来维护整个系统的路由。这样的做的好处是利于维护。但是当路由过多的话路由文件中就很大。</li>
<li>每个组件在自己的vue中配置自己的路由信息。好处是灵活，但是不利于维护</li>
<li>折中的办法</li>
</ul>
<h4 id="4-6-一些路由的坑"><a href="#4-6-一些路由的坑" class="headerlink" title="4.6 一些路由的坑"></a>4.6 一些路由的坑</h4><ul>
<li>使用<code>this.$router.push(&#123; path: &#39;/example&#39;,params: &#123;value:value&#125;&#125;)</code>路由的参数无法传递.使用<code>this.$router.push(&#123; name: &#39;Example&#39;,params:&#123;value:value&#125;&#125;)</code>可以传递参数</li>
</ul>
<h3 id="5、引入Element组件"><a href="#5、引入Element组件" class="headerlink" title="5、引入Element组件"></a>5、引入Element组件</h3><p>1、官方文档得引入<br>在main.js里面加入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>)</span><br></pre></td></tr></table></figure>
<p>在渲染的页面中，最顶层引入了<code>index.css</code>的样式。这样就可以使用ELement的标签了。因为已经在渲染的Html文件的头部加入样式表，标签便可以被识别。若是使用额外的样式则需要另外添加样式渲染的插件和模块。<br>###6、Vue文件逻辑处理<br>1、v-bind的缩写<code>:</code>,例如<code>&lt;a :href=&quot;url&quot;&gt;&lt;/a&gt;</code><br>2、v-on的缩写<code>@</code>,例如<code>&lt;a v-on:click=&quot;doSomething&quot;&gt;&lt;/a&gt;</code>&#x3D;&gt;<code>&lt;a @click=&quot;doSomething&quot;&gt;&lt;/a&gt;</code>缩写之后没有<code>:</code><br>3、计算属性,任何的复杂逻辑，都应该使用<strong>计算属性</strong><br>（1）使用计算属性,在标签中声明和了一个属性，然后在<code>computed</code>里面对这个属性进行处理。在vue文件中也是直接在 <code>computed:&#123;&#125;</code>之中完成逻辑处理<br>（2）计算属性和方法的区别,计算属性是依赖于所绑定的数据，若是所依赖的数据没有变化。则使用计算属性就会返回之前计算出来的结果，不会重新计算。方法的话每次访问的话就会重新计算，使用计算机的运算资源。不论所依赖的数据是否已经发生变化。从一定程度来说，计算属性是用空间来换取时间（增加缓存，减少cup的使用时间）。而方法在每一次都会重新执行，申请计算资源。<br>（3）计算属性默认是没有<code>set</code>方法的。可以自己定义.<br>4、监听<code>watch:&#123;&#125;</code>是用来对数据进行监听的。若是对数据进行的监听。若是数据发生变化，则会触发监听事件。但是这个和<code>v-model</code>有什么区别？？<code>v-model</code>是对<code>&lt;input&gt;、&lt;textarea&gt;、&lt;select&gt;</code>进行双向数据绑定。不会涉及数据处理<br>5、一个逐渐的<code>data</code>选项必须是一个函数，便于复用。</p>
<h3 id="6、异步和等待-async-await"><a href="#6、异步和等待-async-await" class="headerlink" title="6、异步和等待(async await)"></a>6、异步和等待(async await)</h3><p>  有时候异步的处理中有同步的逻辑。这时候需要异步中的等待，例如:异步获得数据，但是将数据渲染到模板中的话就必须等待数据加载完毕之后才能进一步渲染，否则将会得到怪异的结果。虽然重渲染可能看不出来，但是网络差的时候。显示的会是模板语法。await就是解决async中的不确定。执行到await函数之后不会再往下执行了，得等到await函数执行完毕之后再执行。</p>
<h3 id="7、promise"><a href="#7、promise" class="headerlink" title="7、promise"></a>7、promise</h3><h4 id="8、vue处理每次访问生成新的sessionId问题"><a href="#8、vue处理每次访问生成新的sessionId问题" class="headerlink" title="8、vue处理每次访问生成新的sessionId问题"></a>8、vue处理每次访问生成新的sessionId问题</h4><p>  在使用axios处,设置axios的对象属性<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> service = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: baseURL, <span class="comment">// url = base url + request url</span></span><br><span class="line">  <span class="comment">// withCredentials: true, // send cookies when cross-domain requests</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span> <span class="comment">// request timeout</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 设置统一session</span></span><br><span class="line">service.<span class="property">defaults</span>.<span class="property">withCredentials</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<h4 id="9、使用v-for时ESLint报错"><a href="#9、使用v-for时ESLint报错" class="headerlink" title="9、使用v-for时ESLint报错"></a>9、使用v-for时ESLint报错</h4><p>  vue 2.2.0+ 里使用v-for时key是必须的。解决办法,添加<code>:key</code>绑定</p>
<h3 id="使用axios下载文件"><a href="#使用axios下载文件" class="headerlink" title="使用axios下载文件"></a>使用axios下载文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">downloadFile</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> service = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>: <span class="string">&quot;http://127.0.0.1:8080&quot;</span>,</span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">5000</span>, <span class="comment">// request timeout</span></span><br><span class="line">    <span class="attr">responseType</span>:<span class="string">&#x27;blob&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">  service.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">      config.<span class="property">headers</span>[<span class="string">&#x27;Authorization&#x27;</span>] = <span class="title function_">getToken</span>()</span><br><span class="line">      <span class="keyword">return</span> config</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// do something with request error</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error) <span class="comment">// for debug</span></span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> downloadReq = <span class="title function_">service</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/Api/File/DownloadFile&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;<span class="attr">id</span>: id&#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  downloadReq.<span class="title function_">then</span>(<span class="function"><span class="params">rsp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&gt;&gt;&gt; Download File&quot;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(rsp)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&lt;&lt;&lt;&quot;</span>)</span><br><span class="line">    <span class="keyword">const</span> filenameUTF8 = rsp[<span class="string">&#x27;headers&#x27;</span>][<span class="string">&#x27;content-disposition&#x27;</span>].<span class="title function_">split</span>(<span class="string">&#x27;filename&#x27;</span>)[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&quot;=&quot;</span>)[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">const</span> url = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(<span class="keyword">new</span> <span class="title class_">Blob</span>([rsp.<span class="property">data</span>]))</span><br><span class="line">    <span class="keyword">const</span> link = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    link.<span class="property">href</span> = url</span><br><span class="line">    <span class="keyword">let</span> filename = <span class="built_in">decodeURI</span>(filenameUTF8);</span><br><span class="line">    link.<span class="property">download</span> = filename</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(link)</span><br><span class="line">    <span class="keyword">var</span> evt = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&#x27;MouseEvents&#x27;</span>)</span><br><span class="line">    evt.<span class="title function_">initEvent</span>(<span class="string">&#x27;click&#x27;</span>, <span class="literal">false</span>, <span class="literal">false</span>)</span><br><span class="line">    link.<span class="title function_">dispatchEvent</span>(evt)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(link)</span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="使用axios时headers的conenten-disposition字段缺失。"><a href="#使用axios时headers的conenten-disposition字段缺失。" class="headerlink" title="使用axios时headers的conenten-disposition字段缺失。"></a>使用axios时headers的<code>conenten-disposition</code>字段缺失。</h4><p>解决办法，后端在返回值的时候设置<code>response.setHeader(&quot;Access-Control-Expose-Headers&quot;,&quot;content-disposition&quot;);</code></p>
<h4 id="后端部分代码"><a href="#后端部分代码" class="headerlink" title="后端部分代码"></a>后端部分代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filepath);</span><br><span class="line"><span class="keyword">if</span> (!out.exists() || out.isDirectory())&#123;</span><br><span class="line">    log.warn(<span class="string">&quot;DownloadFile id = &#123;&#125; file path = &#123;&#125; error&quot;</span>,requestVo.getId(), filepath);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">log.info(<span class="string">&quot;Download File path = &#123;&#125;&quot;</span>, filepath);</span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">BufferedInputStream</span> <span class="variable">bufferedInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">    response.setHeader(<span class="string">&quot;content-Type&quot;</span>,<span class="string">&quot;application/octet-stream&quot;</span>);</span><br><span class="line">    response.setHeader(<span class="string">&quot;Access-Control-Expose-Headers&quot;</span>,<span class="string">&quot;content-disposition&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">filename</span> <span class="operator">=</span> URLEncoder.encode(fileEntity.getFilename(),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">    response.setHeader(<span class="string">&quot;content-disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+ filename);</span><br><span class="line">    response.setContentType(<span class="string">&quot;application/octet-stream&quot;</span>);</span><br><span class="line">    <span class="comment">// 文件下载</span></span><br><span class="line">    <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(out);</span><br><span class="line">    bufferedInputStream = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fileInputStream);</span><br><span class="line">    <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> bufferedInputStream.read(buffer);</span><br><span class="line">    <span class="keyword">while</span> (i != -<span class="number">1</span>)&#123;</span><br><span class="line">        outputStream.write(buffer,<span class="number">0</span>,i);</span><br><span class="line">        i = bufferedInputStream.read(buffer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">    log.error(e.getMessage());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">null</span> != bufferedInputStream)&#123;</span><br><span class="line">        bufferedInputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">null</span> != fileInputStream)&#123;</span><br><span class="line">        fileInputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">    log.error(e.getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong> 为了不出现中文乱码,需要在后端对文件名进行编码,前端也需要相应的解码。</p>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></span><span class="soc"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></span><span class="soc"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=https://long95288.github.io/2019/04/29/vue笔记/%20风兮木落%20vue笔记"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2019/05/07/git%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/" title="git常用操作"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: git常用操作</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2019/04/22/%E7%88%AC%E5%8F%96B%E7%AB%99%E7%9A%84%E8%A7%86%E9%A2%91%E9%93%BE%E6%8E%A5/" title="爬取B站的视频链接">Next post: 爬取B站的视频链接&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2025&nbsp;<a target="_blank" href="https://long95288.github.io" rel="noopener noreferrer">long</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>